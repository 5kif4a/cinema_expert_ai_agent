# Cinema Expert AI Agent

AI-–∞–≥–µ–Ω—Ç –∫–∏–Ω–æ—ç–∫—Å–ø–µ—Ä—Ç, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –Ω–∞ –±–∞–∑–µ LangChain –∏ OpenAI, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –∏—Å–∫–∞—Ç—å –∏ —É–∑–Ω–∞–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∏–ª—å–º–∞—Ö —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å OMDB API –∏ –ª–æ–∫–∞–ª—å–Ω—ã–º –¥–∞—Ç–∞—Å–µ—Ç–æ–º IMDb Top 1000.

## –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

https://github.com/user-attachments/assets/245a8411-0db1-48ba-ae1b-bd5447531601

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–ê–≥–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥**, —Å–æ—á–µ—Ç–∞—è OMDB API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ –ª–æ–∫–∞–ª—å–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç IMDb Top 1000 –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞.

### OMDB API –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

- üîç **–ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∏–ª—å–º–µ (—Å fallback –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç)
- üìã **–ü–æ–∏—Å–∫ —Å–ø–∏—Å–∫–∞ —Ñ–∏–ª—å–º–æ–≤** - –ø–æ–∏—Å–∫ –ø–æ —á–∞—Å—Ç–∏—á–Ω–æ–º—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é –Ω–∞–∑–≤–∞–Ω–∏—è
- ‚öñÔ∏è **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤—É—Ö —Ñ–∏–ª—å–º–æ–≤** - –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –¥–≤—É—Ö —Ñ–∏–ª—å–º–æ–≤
- üÜî **–ü–æ–∏—Å–∫ –ø–æ IMDb ID** - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∏–ª—å–º–µ –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É
- üìÖ **–ü–æ–∏—Å–∫ –ø–æ –≥–æ–¥—É –∏ —Ç–∏–ø—É** - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ñ–∏–ª—å–º–æ–≤ –ø–æ –≥–æ–¥—É –≤—ã–ø—É—Å–∫–∞ –∏ —Ç–∏–ø—É (movie/series/episode)

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞ (IMDb Top 1000):

- üé≠ **–¢–æ–ø —Ñ–∏–ª—å–º–æ–≤ –ø–æ –∂–∞–Ω—Ä—É** - –ª—É—á—à–∏–µ —Ñ–∏–ª—å–º—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∂–∞–Ω—Ä–∞ —Å —Ä–µ–π—Ç–∏–Ω–≥–∞–º–∏
- üé¨ **–§–∏–ª—å–º—ã —Ä–µ–∂–∏—Å—Å–µ—Ä–∞** - –≤—Å–µ —Ñ–∏–ª—å–º—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏—Å—Å–µ—Ä–∞ –∏–∑ —Ç–æ–ø-1000
- ‚≠ê **–§–∏–ª—å–º—ã —Å –∞–∫—Ç–µ—Ä–æ–º** - —Ñ–∏–ª—å–º—ã —Å —É—á–∞—Å—Ç–∏–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∞–∫—Ç–µ—Ä–∞
- üìä **–ü–æ–∏—Å–∫ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É** - —Ñ–∏–ª—å–º—ã —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º —Ä–µ–π—Ç–∏–Ω–≥–æ–º, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø–æ –∂–∞–Ω—Ä—É

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.12+
- Poetry (–¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏)
- OpenAI API Key
- OMDB API Key (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫–ª—é—á –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –Ω–∞ [omdbapi.com](http://www.omdbapi.com/apikey.aspx))

### –®–∞–≥–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
```bash
git clone <repository-url>
cd cinema_expert_ai_agent
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ Poetry:**
```bash
poetry install
```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ API –∫–ª—é—á–∏:

```env
CINEMA_EXPERT_AI_AGENT_OPENAI_API_KEY=your_openai_api_key_here
CINEMA_EXPERT_AI_AGENT_OMDB_API_KEY=your_omdb_api_key_here
```

–¢–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `.env.example` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è:
```bash
cp .env.example .env
```

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ settings.toml (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**

–§–∞–π–ª `settings.toml` —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
- `MODEL_NAME` - –º–æ–¥–µ–ª—å OpenAI (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: "gpt-4o-mini")
- `TEMPERATURE` - —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0.7)
- `MAX_TOKENS` - –ª–∏–º–∏—Ç —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –ø–∞–º—è—Ç–∏ –¥–∏–∞–ª–æ–≥–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 300)

## –ó–∞–ø—É—Å–∫

### –û–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º

```bash
poetry run start
```

–ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Python:
```bash
python -m src.main
```

### Verbose —Ä–µ–∂–∏–º

–î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –º—ã—à–ª–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞ –∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —à–∞–≥–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–ª–∞–≥ `--verbose` –∏–ª–∏ `-v`:

```bash
poetry run start --verbose
```

–∏–ª–∏

```bash
python -m src.main -v
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∏–ª—å–º–µ

```
–í—ã: –†–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ —Ñ–∏–ª—å–º Inception

–ê–≥–µ–Ω—Ç:
–ù–∞–∑–≤–∞–Ω–∏–µ: Inception
–ì–æ–¥: 2010
–†–µ–π—Ç–∏–Ω–≥: PG-13
–î–∞—Ç–∞ –≤—ã—Ö–æ–¥–∞: 16 Jul 2010
–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 148 min
–ñ–∞–Ω—Ä: Action, Adventure, Sci-Fi
–†–µ–∂–∏—Å—Å–µ—Ä: Christopher Nolan
–ê–∫—Ç–µ—Ä—ã: Leonardo DiCaprio, Joseph Gordon-Levitt, Elliot Page
–û–ø–∏—Å–∞–Ω–∏–µ: A thief who steals corporate secrets through the use of dream-sharing technology...
–Ø–∑—ã–∫: English, Japanese, French
–°—Ç—Ä–∞–Ω–∞: United States, United Kingdom
–ù–∞–≥—Ä–∞–¥—ã: Won 4 Oscars. 159 wins & 220 nominations total
IMDb —Ä–µ–π—Ç–∏–Ω–≥: 8.8/10 (2,500,000 –≥–æ–ª–æ—Å–æ–≤)
```

### –ü—Ä–∏–º–µ—Ä 2: –ü–æ–∏—Å–∫ —Å–ø–∏—Å–∫–∞ —Ñ–∏–ª—å–º–æ–≤

```
–í—ã: –ù–∞–π–¥–∏ —Ñ–∏–ª—å–º—ã –ø—Ä–æ –ì–∞—Ä—Ä–∏ –ü–æ—Ç—Ç–µ—Ä–∞

–ê–≥–µ–Ω—Ç:
–ù–∞–π–¥–µ–Ω–æ 89 —Ñ–∏–ª—å–º–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É 'Harry Potter':

1. Harry Potter and the Deathly Hallows: Part 2 (2011) - movie
2. Harry Potter and the Sorcerer's Stone (2001) - movie
3. Harry Potter and the Chamber of Secrets (2002) - movie
4. Harry Potter and the Prisoner of Azkaban (2004) - movie
5. Harry Potter and the Goblet of Fire (2005) - movie
...

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ search_movie_by_title —Å —Ç–æ—á–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
```

### –ü—Ä–∏–º–µ—Ä 3: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤—É—Ö —Ñ–∏–ª—å–º–æ–≤

```
–í—ã: –°—Ä–∞–≤–Ω–∏ —Ñ–∏–ª—å–º—ã Inception –∏ Interstellar

–ê–≥–µ–Ω—Ç:
–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å–º–æ–≤:

–§–ò–õ–¨–ú 1: Inception
–§–ò–õ–¨–ú 2: Interstellar

–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞:
  ‚Ä¢ Inception: 2010
  ‚Ä¢ Interstellar: 2014

–ñ–∞–Ω—Ä:
  ‚Ä¢ Inception: Action, Adventure, Sci-Fi
  ‚Ä¢ Interstellar: Adventure, Drama, Sci-Fi

–†–µ–∂–∏—Å—Å–µ—Ä:
  ‚Ä¢ Inception: Christopher Nolan
  ‚Ä¢ Interstellar: Christopher Nolan

IMDb —Ä–µ–π—Ç–∏–Ω–≥:
  ‚Ä¢ Inception: 8.8/10
  ‚Ä¢ Interstellar: 8.7/10
...
```

### –ü—Ä–∏–º–µ—Ä 4: –ü–æ–∏—Å–∫ –ø–æ –≥–æ–¥—É

```
–í—ã: –ù–∞–π–¥–∏ —Ñ–∏–ª—å–º—ã –ø—Ä–æ –ë—ç—Ç–º–µ–Ω–∞, –≤—ã—à–µ–¥—à–∏–µ –≤ 2008 –≥–æ–¥—É

–ê–≥–µ–Ω—Ç: (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç search_movies_by_year_and_type)
–ù–∞–π–¥–µ–Ω–æ 5 —Ñ–∏–ª—å–º–æ–≤ (2008, movie):

1. The Dark Knight (2008)
2. Batman: Gotham Knight (2008)
...
```

### –ü—Ä–∏–º–µ—Ä 5: –¢–æ–ø —Ñ–∏–ª—å–º–æ–≤ –ø–æ –∂–∞–Ω—Ä—É (–ª–æ–∫–∞–ª—å–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç)

```
–í—ã: –ü–æ–∫–∞–∂–∏ —Ç–æ–ø 5 –Ω–∞—É—á–Ω–æ-—Ñ–∞–Ω—Ç–∞—Å—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∏–ª—å–º–æ–≤

–ê–≥–µ–Ω—Ç: (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç get_top_movies_by_genre)
–¢–æ–ø-5 —Ñ–∏–ª—å–º–æ–≤ –∂–∞–Ω—Ä–∞ Sci-Fi (–∏–∑ IMDb Top 1000):

Inception (2010) - 8.8/10
Interstellar (2014) - 8.7/10
The Matrix (1999) - 8.7/10
Star Wars: Episode V (1980) - 8.7/10
Terminator 2: Judgment Day (1991) - 8.6/10
```

### –ü—Ä–∏–º–µ—Ä 6: –§–∏–ª—å–º—ã —Ä–µ–∂–∏—Å—Å–µ—Ä–∞ (–ª–æ–∫–∞–ª—å–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç)

```
–í—ã: –ö–∞–∫–∏–µ —Ñ–∏–ª—å–º—ã —Å–Ω—è–ª –ö–≤–µ–Ω—Ç–∏–Ω –¢–∞—Ä–∞–Ω—Ç–∏–Ω–æ?

–ê–≥–µ–Ω—Ç: (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç get_movies_by_director)
–§–∏–ª—å–º—ã —Ä–µ–∂–∏—Å—Å–µ—Ä–∞ Tarantino (–∏–∑ IMDb Top 1000):

Pulp Fiction (1994) - 8.9/10
Django Unchained (2012) - 8.5/10
Inglourious Basterds (2009) - 8.4/10
Reservoir Dogs (1992) - 8.3/10
Kill Bill: Vol. 1 (2003) - 8.2/10
```

### –ü—Ä–∏–º–µ—Ä 7: –ü–æ–∏—Å–∫ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É (–ª–æ–∫–∞–ª—å–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç)

```
–í—ã: –ù–∞–π–¥–∏ –¥—Ä–∞–º—ã —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º –≤—ã—à–µ 8.5

–ê–≥–µ–Ω—Ç: (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç get_movies_by_rating)
–§–∏–ª—å–º—ã (Drama) —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º ‚â• 8.5 (–∏–∑ IMDb Top 1000):

The Shawshank Redemption (1994) - 9.3/10
  –ñ–∞–Ω—Ä: Drama
  –†–µ–∂–∏—Å—Å–µ—Ä: Frank Darabont

The Godfather (1972) - 9.2/10
  –ñ–∞–Ω—Ä: Crime, Drama
  –†–µ–∂–∏—Å—Å–µ—Ä: Francis Ford Coppola
...
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
cinema_expert_ai_agent/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ agent.py          # –°–æ–∑–¥–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞ —Å AgentExecutor
‚îÇ   ‚îú‚îÄ‚îÄ api.py            # OMDB API –∫–ª–∏–µ–Ω—Ç —Å retry –ª–æ–≥–∏–∫–æ–π
‚îÇ   ‚îú‚îÄ‚îÄ config.py         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Dynaconf
‚îÇ   ‚îú‚îÄ‚îÄ llm.py            # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ChatOpenAI
‚îÇ   ‚îú‚îÄ‚îÄ main.py           # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å Rich
‚îÇ   ‚îú‚îÄ‚îÄ memory.py         # ConversationSummaryBufferMemory
‚îÇ   ‚îî‚îÄ‚îÄ tools.py          # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∏–ª—å–º–∞–º–∏
‚îú‚îÄ‚îÄ .env                  # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –≤ git)
‚îú‚îÄ‚îÄ .env.example          # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ settings.toml         # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ pyproject.toml        # Poetry –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –¥–∞–Ω–Ω—ã–º

–ê–≥–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–±–∏–Ω–∞—Ü–∏—é –¥–≤—É—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö:

1. **OMDB API** (–æ—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫):
   - –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –∏ –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∏–ª—å–º–∞—Ö
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–∏—Å–∫–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –≥–æ–¥—É, —Ç–∏–ø—É
   - –î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –Ω–∞–≥—Ä–∞–¥–∞—Ö, –ø–æ—Å—Ç–µ—Ä–∞—Ö, —Ä–µ–π—Ç–∏–Ω–≥–∞—Ö

2. **–õ–æ–∫–∞–ª—å–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç IMDb Top 1000** (—Ä–µ–∑–µ—Ä–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫):
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ fallback, –µ—Å–ª–∏ OMDB API –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç —Ñ–∏–ª—å–º
   - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–æ–ø —Ñ–∏–ª—å–º–∞–º–∏
   - –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ —Ä–µ–∂–∏—Å—Å–µ—Ä—É, –∞–∫—Ç–µ—Ä—É, –∂–∞–Ω—Ä—É –∏ —Ä–µ–π—Ç–∏–Ω–≥—É
   - –ù–µ —Ç—Ä–µ–±—É–µ—Ç API –∫–ª—é—á–∞

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ü—Ä–∏ –ø–æ–∏—Å–∫–µ —Ñ–∏–ª—å–º–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∞–≥–µ–Ω—Ç —Å–Ω–∞—á–∞–ª–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç OMDB API
- –ï—Å–ª–∏ —Ñ–∏–ª—å–º –Ω–µ –Ω–∞–π–¥–µ–Ω —á–µ—Ä–µ–∑ API, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ —Ä–µ–∂–∏—Å—Å–µ—Ä—É/–∞–∫—Ç–µ—Ä—É/–∂–∞–Ω—Ä—É —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º –¥–∞—Ç–∞—Å–µ—Ç–æ–º

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

API –∫–ª–∏–µ–Ω—Ç –≤–∫–ª—é—á–∞–µ—Ç:
- Retry –ª–æ–≥–∏–∫—É –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ rate limits
- Try-catch –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫
- Graceful handling –ø—É—Å—Ç—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –¢–∞–π–º–∞—É—Ç—ã –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç

### –ü–∞–º—è—Ç—å –¥–∏–∞–ª–æ–≥–∞

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `ConversationSummaryBufferMemory`, –∫–æ—Ç–æ—Ä–∞—è:
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é
- –°–∂–∏–º–∞–µ—Ç —Å—Ç–∞—Ä—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–µ—Å—Ç–∏ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π Rich –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:
- –ê–Ω–∏–º–∞—Ü–∏—é –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- –¶–≤–µ—Ç–Ω–æ–π —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ markdown —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –∏–∑ –æ—Ç–≤–µ—Ç–æ–≤
- –ü–∞–Ω–µ–ª–∏ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

–ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∏–ª—å–º–∞–º–∏:

1. –û—Ç–∫—Ä–æ–π—Ç–µ `src/tools.py`
2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é —Å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º `@tool`
3. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–π docstring (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–≥–µ–Ω—Ç–æ–º –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π)
4. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ª–æ–≥–∏–∫—É —á–µ—Ä–µ–∑ `call_omdb_api()` –∏–ª–∏ —Ä–∞–±–æ—Ç—É —Å DataFrame `df`
5. –î–æ–±–∞–≤—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –≤ —Å–ø–∏—Å–æ–∫ `tools`

#### –ü—Ä–∏–º–µ—Ä —Å OMDB API:
```python
@tool
def get_movie_awards(title: str) -> str:
    """
    –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–∞–≥—Ä–∞–¥–∞—Ö —Ñ–∏–ª—å–º–∞ –∏–∑ OMDB API.

    Args:
        title: –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞

    Returns:
        –°–ø–∏—Å–æ–∫ –Ω–∞–≥—Ä–∞–¥ –∏ –Ω–æ–º–∏–Ω–∞—Ü–∏–π
    """
    try:
        result = call_omdb_api({"t": title})
        if result is None:
            return f"–§–∏–ª—å–º '{title}' –Ω–µ –Ω–∞–π–¥–µ–Ω."
        return result.get("Awards", "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–∞–≥—Ä–∞–¥–∞—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞")
    except OMDBAPIError as e:
        return f"–û—à–∏–±–∫–∞: {str(e)}"
```

#### –ü—Ä–∏–º–µ—Ä —Å –ª–æ–∫–∞–ª—å–Ω—ã–º –¥–∞—Ç–∞—Å–µ—Ç–æ–º:
```python
@tool
def get_movies_by_year_range(start_year: int, end_year: int, limit: int = 10) -> str:
    """
    –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–ø —Ñ–∏–ª—å–º–æ–≤ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –∏–∑ IMDb Top 1000.

    Args:
        start_year: –ù–∞—á–∞–ª—å–Ω—ã–π –≥–æ–¥
        end_year: –ö–æ–Ω–µ—á–Ω—ã–π –≥–æ–¥
        limit: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∏–ª—å–º–æ–≤

    Returns:
        –°–ø–∏—Å–æ–∫ —Ç–æ–ø —Ñ–∏–ª—å–º–æ–≤ –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥
    """
    if df is None:
        return "–õ–æ–∫–∞–ª—å–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω."

    filtered = df[(df["Released_Year"] >= start_year) &
                  (df["Released_Year"] <= end_year)]

    if filtered.empty:
        return f"–§–∏–ª—å–º—ã –∑–∞ –ø–µ—Ä–∏–æ–¥ {start_year}-{end_year} –Ω–µ –Ω–∞–π–¥–µ–Ω—ã."

    top_movies = filtered.nlargest(limit, "IMDB_Rating")

    result = f"–¢–æ–ø-{limit} —Ñ–∏–ª—å–º–æ–≤ {start_year}-{end_year}:\n\n"
    for _, movie in top_movies.iterrows():
        result += f"{movie['Series_Title']} ({movie['Released_Year']}) - {movie['IMDB_Rating']}/10\n"

    return result
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## –ê–≤—Ç–æ—Ä—ã

Alikhan Shorin

## –°—Å—ã–ª–∫–∏

- [LangChain Documentation](https://python.langchain.com/)
- [OMDB API](http://www.omdbapi.com/)
- [OpenAI API](https://platform.openai.com/)
- [Notion Project Page](https://neon-walrus-0bd.notion.site/LangChain-2b714587076980c7afc9dd4dae87e136)
